<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestão de Usuários</title>
  <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"/>
 <link 
    href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.bootstrap5.css" 
    rel="stylesheet"/>
 <link rel="stylesheet" href="./assets/css/styles.css">
</head>
<body class="bg-light">
  <div data-include="components/header.html"></div>
  <main>
    <div class="container-fluid px-5 py-3">
      <section class="card shadow-sm p-4">
        <h1 class="h4 fw-semibold text-secondary">Pesquisar Usuários</h1>
        <form id="formulario"> <!-- Pai das linhas e botões-->
          <div class="row primeira mt-3 gy-3">  <!-- Pai do que tiver na linha -->
            <div class="col-md-6">    <!-- Pai do Label + caixa de texto -->
                <label for="cpf">CPF:</label>
                <input type="text" id="cpf" name="cpf"
                  class="form-control"
                  placeholder="Digite o CPF"
                  inputmode="numeric"
                  maxlength="14"
                  autocomplete="off"
                  data-obrigatorio>
            </div>
            <div class="col-md-6">
              <label for="regiao">Região de Residência:</label>
              <select class="form-select" id="regiao" name="regiao" data-placeholder="Selecione a região">
                <option value="" disabled selected>Carregando...</option>
                <!-- <option value="">-- Escolha uma opção --</option> -->
              </select>
            </div>
          </div>       
          <div class="row segunda mt-2 gy-3">  <!-- mt margem gy gap vertical -->
            <div class="col-md-6">
              <label class="form-label" for="setor">Setor onde atua na empresa:</label>
              <select data-tomselect id="setor" class="form-select" name="setor" data-placeholder="Selecione o setor" data-obrigatorio="true">
                <option value="" disabled selected>Carregando...</option>
                <!-- <option value="" disabled selected>Selecione</option>  Foi apagada pois está sendo inserida pelo JS -->
              </select>
            </div>
            <div class="col-md-6">
              <label for="turnos-multi" class="form-label">Turno:</label>
              <!-- 1) Fallback (Bootstrap) — aparece imediatamente -->
              <select class="form-select" id="turnos-multi-fallback" 
                aria-label="Turno (carregando)">
                <option value="" selected disabled>Carregando...</option>
              </select>
              <!-- 2) Select real do Tom Select (começa oculto) -->
              <select class="form-select d-none" id="turnos-multi" name="turnos"
                data-tomselect multiple style="width:260px"
                aria-label="Selecione o turno">
                <!-- Aqui você coloca as opções reais, ou deixa o JS carregar -->
                <option value="">Selecione</option>
              </select>
            </div>
          </div>
          <!-- Container dos botões -->
          <div class="d-flex justify-content-center justify-content-md-end mt-4 gap-3 pt-3 flex-wrap">
            <button id="pesquisar" class="btn btn-primary" type="button">Pesquisar</button>
            <button id="novoUsuario" class="btn btn-primary" type="button">Novo usuário</button>
            <button id="limpar" class="btn btn-secondary" type="button">Limpar</button>
          </div>
        </form>
      </section>
      <section id="resultados-tabela" class="mt-3 p-2"></section>
  </main>
  <div data-include="components/footer.html"></div>
<div class="modal fade" id="validationModal" tabindex="-1" aria-labelledby="validationModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title" id="validationModalLabel"></h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="modalMessage">
        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="confirmYesButton" style="display: none;">Sim</button>
        <button type="button" class="btn btn-secondary" id="confirmNoButton" data-bs-dismiss="modal" style="display: none;">Não</button>
        <button type="button" class="btn btn-primary" id="alertOkButton" data-bs-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>
  <script type="module">
    import { includeHTML } from "./src/utils/include-html.util.js";
    includeHTML();
  </script>
  <!-- biblioteca de máscaras de campos -->
  <script
    defer src="https://unpkg.com/vanilla-masker@1.1.1/build/vanilla-masker.min.js"
    integrity="sha384-12XSlvcHmo+GznHloktY+lT6qPgXYbPqMFGiY0JflahmzOxYAkfrK+YzvoBAH+qQ"
    crossorigin="anonymous">
  </script>
  <script 
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
  crossorigin="anonymous">
  </script>
  <!-- biblioteca Tom Select -->
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
  <!-- script principal por último -->
  <script defer type="module" src="./src/main/pesquisa.main.js"></script>
</body>
</html>
